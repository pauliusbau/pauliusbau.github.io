<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Paulius Bautrėnas - Elektronika</title><link href="https://paulius.bautrenas.lt/" rel="alternate"></link><link href="https://paulius.bautrenas.lt/feeds/elektronika.atom.xml" rel="self"></link><id>https://paulius.bautrenas.lt/</id><updated>2015-02-12T09:30:00+02:00</updated><subtitle>#define TRUE FALSE</subtitle><entry><title>Flip-Dot Clock</title><link href="https://paulius.bautrenas.lt/flip-dot-clock.html" rel="alternate"></link><published>2015-02-12T09:30:00+02:00</published><updated>2015-02-12T09:30:00+02:00</updated><author><name>pauliusbau</name></author><id>tag:paulius.bautrenas.lt,2015-02-12:/flip-dot-clock.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7319.jpg"&gt;&lt;img alt="IMG_7319" class="aligncenter wp-image-630 size-medium" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7319_800x600.jpg" style="width: 625px; height: 468px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Idėja susikonstruoti unikalų sieninį laikrodį mano galvoje kirbėjo gan seniai, tačiau iki šiol niekaip iki to „nepriėjo“ rankos. Be to, internetas yra pilnas kuo įvairiausių „nixie“, LED'inių, mechaninių, pneumatinių, hidraulinių ir kitokių laikrodžių, o man norėjosi kažko įdomesnio. Taip pat kaip ir kiekvienas tikras inžinierius esu didelis tinginys, todėl nenorėjau …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7319.jpg"&gt;&lt;img alt="IMG_7319" class="aligncenter wp-image-630 size-medium" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7319_800x600.jpg" style="width: 625px; height: 468px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Idėja susikonstruoti unikalų sieninį laikrodį mano galvoje kirbėjo gan seniai, tačiau iki šiol niekaip iki to „nepriėjo“ rankos. Be to, internetas yra pilnas kuo įvairiausių „nixie“, LED'inių, mechaninių, pneumatinių, hidraulinių ir kitokių laikrodžių, o man norėjosi kažko įdomesnio. Taip pat kaip ir kiekvienas tikras inžinierius esu didelis tinginys, todėl nenorėjau per daug vargti su mandromis konstrukcijomis ir kitokiais velniais, todėl ilgai laukiau reikiamo momento kol į rankas paklius kas nors, iš ko būtų galima pasidaryti laikrodį. Šis momentas atėjo buvusiame darbe, kai į mano rankas pakliuvo &lt;a class="reference external" href="elektromechanines-svieslentes"&gt;elektromechaninė švieslentė (angl. flip-dot)&lt;/a&gt;.&lt;/p&gt;
&lt;div class="section" id="schema-ir-pcb"&gt;
&lt;h2&gt;Schema ir PCB&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/flip_dot_controller_V2-sch.png"&gt;&lt;img alt="flip_dot_controller_V2-sch" class="aligncenter size-large wp-image-648" src="https://paulius.bautrenas.lt/images/flip-dot-clock/flip_dot_controller_V2-sch-774x1024.png" style="width: 625px; height: 827px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Laikrodžio valdikliui iš principo panaudojau tą patį, šiek tiek ankščiau aprašytą valdiklį, su kuriuo tyrinėjau &lt;a class="reference external" href="elektromechanines-svieslentes"&gt;elektromechanines švieslentes&lt;/a&gt;. Vienintelis skirtumas tas, kad šį kartą prie jo papildomai prijungiau Dallas DS1307 RTC laikrodį. Tuo pačiu linijinį įtampos stabilizatorių 7805 pakeičiau impulsiniu nekaistančiu LM2574n-5 su atitinkamu apkabinimu. Schemos stabilumui užtikrinti, papildomai ant AtMEGA16 Reset kojos užkabinau supervizorių &lt;a class="reference external" href="http://ww1.microchip.com/downloads/en/DeviceDoc/11187f.pdf"&gt;MCP100T-475I&lt;/a&gt;, kuris neleidžia atmegai startuoti, kol jos maitinimo įtampa nepakilo aukščiau 4,75 V.&lt;/p&gt;
&lt;p&gt;Šią valdiklio versiją papildžiau aibe naujų jungčių. Išvedžiau vieną iš ADC pinų. Numačiau jungtį rotorinio enkoderio ar išorinių mygtukų prijungimui. Valdiklio darbo statuso šviesos diodus irgi iškėliau ant papildomos jungties. Įprojektavau galimybė prijungti papildomą lauktranzių grandinę, skirtą laikrodžio apšvietimo komutavimui.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/fet_board_sch.png"&gt;&lt;img alt="fet_board_sch" class="aligncenter wp-image-646 size-medium" src="https://paulius.bautrenas.lt/images/flip-dot-clock/fet_board_sch-166x300.png" style="width: 166px; height: 300px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tiesa, tuos lauktranzius teko iškelti ant atskiros plokštelės, nes į nemokamo Eagle langą jie tiesiog gražiai nebetilpo. Na bet kokiu atveju, abi PCB gavosi gan šaunios:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/flip_dot_controller_V2-brd.png"&gt;&lt;img alt="flip_dot_controller_V2-brd" class="aligncenter size-large wp-image-647" src="https://paulius.bautrenas.lt/images/flip-dot-clock/flip_dot_controller_V2-brd-1024x818.png" style="width: 625px; height: 499px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/fet_board_brd.png"&gt;&lt;img alt="fet_board_brd" class="aligncenter wp-image-645 size-medium" src="https://paulius.bautrenas.lt/images/flip-dot-clock/fet_board_brd-300x300.png" style="width: 300px; height: 300px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="surinkimas"&gt;
&lt;h2&gt;Surinkimas&lt;/h2&gt;
&lt;p&gt;Šiek tiek išrinkau turimos švieslentės korpusą ir pradėjau ieškoti vietos elektronikai. Vietos radau ant galinio švieslentės skydelio, šalia į korpusą įmontuotos dienos šviesos (CCFL) lempos inverterio.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6960.jpg"&gt;&lt;img alt="IMG_6960" class="aligncenter size-large wp-image-657" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6960-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6982.jpg"&gt;&lt;img alt="IMG_6982" class="aligncenter size-large wp-image-658" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6982-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Būdamas didelis tinginys, daugelį aukščiau aprašytų pakeitimų padariau lituokliu ant egzistuojančios plokštės ir negaminau naujos PCB. Tiesa, tai kainavo šiek tiek nervų.. Taip daryti tikrai niekam nerekomenduočiau, bet dėl sprendimo per daug nesigailiu, nes pakeitimų nebuvo labai daug.&lt;/p&gt;
&lt;p&gt;Valdiklio ir švieslentės maitinimui panaudojau kinietišką DC-DC modulį iš Aliexpress. Iš senų laikų turėjau likusį RTC moduliuką, o ir &amp;quot;netyčia&amp;quot; iš pat pradžių valdiklio PCB buvau įprojektavęs I2C jungtį.. Žodžiu, pakoreguotas valdiklis atrodė taip:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6988.jpg"&gt;&lt;img alt="IMG_6988" class="aligncenter size-large wp-image-654" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6988-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6987.jpg"&gt;&lt;img alt="IMG_6987" class="aligncenter size-large wp-image-655" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6987-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Dalis, prie PCB prilituotų laidų eina į laikrodžio nustatymo mygtukus. Kiti į lauktranzių plokštelę. Lauktranzių plokštelės PCB, kaip supratote, irgi negaminau, o tiesiog greituoju surinkau ant &amp;quot;nulinės&amp;quot; plokštės:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6985.jpg"&gt;&lt;img alt="IMG_6985" class="aligncenter size-large wp-image-662" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6985-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tiek valdiklį, tiek dc-dc, tiek ir lauktranzių plokštelę pritvirtinau varžtais ir sujungiau visus laidus:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6991.jpg"&gt;&lt;img alt="IMG_6991" class="aligncenter size-large wp-image-665" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6991-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7001.jpg"&gt;&lt;img alt="IMG_7001" class="aligncenter size-large wp-image-672" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7001-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Laikrodis valdomas dviem mygtukais. Vienas įjungia/išjungia laiko nustatymo režimą. Kitas nustato laiką ir junginėja apšvietimą (apie tai vėliau). Iš senų laikų turėjau nusipirkęs neracionaliai brangius mygtukus su šviesos diodais. Juos irgi sulitavau ant &amp;quot;nulinės plokštės&amp;quot;.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6983.jpg"&gt;&lt;img alt="IMG_6983" class="aligncenter size-large wp-image-660" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6983-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Pačia plokštelę pritvirtinau taip, kad mygtukai būtų prieinami iš išorės.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7697.jpg"&gt;&lt;img alt="IMG_7697" class="aligncenter size-large wp-image-688" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7697-768x1024.jpg" style="width: 625px; height: 833px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kitame švieslentės šone sumontavau maitinimo jungtį ir saugiklį. Papildomai apsaugai nuo neteisingo pajungimo įmontavau peraugusį šotki diodą:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6994.jpg"&gt;&lt;img alt="IMG_6994" class="aligncenter size-large wp-image-670" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6994-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6995.jpg"&gt;&lt;img alt="IMG_6995" class="aligncenter size-large wp-image-671" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_6995-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Surinktas laikrodis atrodo taip:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7317.jpg"&gt;&lt;img alt="IMG_7317" class="aligncenter size-large wp-image-631" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7317-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="softas"&gt;
&lt;h2&gt;Softas&lt;/h2&gt;
&lt;p&gt;Tai sudėtingiausia projekto dalis. Valdiklio kodas painus todėl, kad projekto įgyvendinimas užtruko porą metų. T. y. valdiklis ir &amp;quot;basic&amp;quot; valdymo programa buvo sukurta maždaug 2012 metais, rašant magistrinį darbą. Visas kitas funkcionalumas suprogramuotas 2014 m. pabaigoje, kai pagaliau atsiraro įkvėpimas. Kodo &amp;quot;tvarkingumui&amp;quot; tikrai nepadėjo ir tai, kad ūpui pakelti dažnai nevengiau buteliuko alaus ar viskio šlakelio. :D Na bet yra kaip yra. Gal vienas kitas bugas ir liko, bet daigtas veikia, atlieka savo funkcijas ir nelūžta.&lt;/p&gt;
&lt;p&gt;Programos kodo per daug nekomentuosiu, tačiau ateities kartoms šiek tiek aprašysiu priimtus programinius ir AtMEGA16&amp;nbsp;hardware išnaudojimo sprendimus. Pirmiausia apie softą. Apie flip-dot švieslentės valdymo mechanizmą užsiminiau įraše apie &lt;a class="reference external" href="elektromechanines-svieslentes"&gt;elektromechanines švieslentes&lt;/a&gt;. Ten nieko sudėtingo, tiesiog switch-case konstrukcija, atitinkamai sukomutuojanti švieslentės valdymo dešifratorius. Įdomesnis to praktinis pritaikymas, nes norint atvaizduoti skaičius (laiką), teko sukurti nuosavą &amp;quot;šriftą&amp;quot;.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/octagon_fontas.png"&gt;&lt;img alt="octagon_fontas" class="aligncenter size-large wp-image-704" src="https://paulius.bautrenas.lt/images/flip-dot-clock/octagon_fontas-1024x591.png" style="width: 625px; height: 361px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nusprendžiau naudoti 5x3 taškų dydžio skaičius (didesni tiesiog gražiai netilpo į mano turimą 13x28 matricą).&amp;nbsp; Mano turima elektromechaninė švieslentė yra taip jau sutverta, kad stulpelius yra valdyti daug patogiau nei eilutes, todėl kiekvieną skaitmenį sudaro 3 baitai stulpelių. Kiekviename baite yra saugoma informacija apie kiekvieną stulpelio tašką: 0 - juoda spalva, 1 - geltona. Skaitmens stulpeliai yra skaitomi iš &amp;quot;apačios į viršų&amp;quot;. Taip atrodo visas 11 simbolių (skaitmenys 0–9 ir simbolis &amp;quot;:&amp;quot;) šrifto masyvas:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="linenos"&gt; 1&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;static&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;uint8_t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fdfont&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="linenos"&gt; 2&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x11&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//0&lt;/span&gt;
&lt;span class="linenos"&gt; 3&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x09&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x01&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//1&lt;/span&gt;
&lt;span class="linenos"&gt; 4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x17&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1D&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//2&lt;/span&gt;
&lt;span class="linenos"&gt; 5&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//3&lt;/span&gt;
&lt;span class="linenos"&gt; 6&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x04&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//4&lt;/span&gt;
&lt;span class="linenos"&gt; 7&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1D&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x17&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//5&lt;/span&gt;
&lt;span class="linenos"&gt; 8&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x17&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//6&lt;/span&gt;
&lt;span class="linenos"&gt; 9&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x17&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x18&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//7&lt;/span&gt;
&lt;span class="linenos"&gt;10&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//8&lt;/span&gt;
&lt;span class="linenos"&gt;11&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1D&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x1F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//9&lt;/span&gt;
&lt;span class="linenos"&gt;12&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x00&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x0A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x00&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;// :&lt;/span&gt;
&lt;span class="linenos"&gt;13&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Skaičius atvaizduoja funkcija &lt;strong&gt;print_number&lt;/strong&gt;&lt;em&gt;(number,pst,peil),&lt;/em&gt; kuriai reikalingi 3 argumentai: &lt;em&gt;number&lt;/em&gt; - norimas atvaizduoti skaitmuo; &lt;em&gt;pst&lt;/em&gt; ir &lt;em&gt;peil&lt;/em&gt; - atvaizduotino skaitmens apatinio kairiojo kampo koordinatės (skaičiuojama nuo matricos apatinio kairiojo kampo). Ši funkcija atitinkamai išsikviečia funkciją &lt;strong&gt;print_column&lt;/strong&gt;&lt;em&gt;,&lt;/em&gt; kuri nuskaito šrifto masyvą&amp;nbsp; ir su funkcija &lt;strong&gt;segmentas&lt;/strong&gt; atitinkamai, bitas po bito perverčia matricos skydelius. Kaip greitai (dar net ne maksimalus greitis) veikia laikrodis, galite pamatyti čia:&lt;/p&gt;
&lt;p&gt;Laiko &amp;quot;rodymas&amp;quot; yra realizuotas &lt;strong&gt;TIMER0_OVF_vect&lt;/strong&gt; pertrauktimi. Čia kelis kartus per sekundę yra tikrinama, ar nepasikeitė laikas. Jeigu laikas pasikeitė, yra patikrinama, kurie skaitmenys būtent pasikeitė ir tik jie yra perpiešiami. Vizualiai tai atrodo maždaug taip:&lt;/p&gt;
&lt;p&gt;Laikrodžio nustatymai keičiami tiek per USART sąsają, tiek ir valdymo mygtukais. Mygtuku, prijungtu prie INT1 (PD3), galima įjungti ir išjungti laikrodžio apšvietimą. Labai knietėjo pabandyti laikrodį apšviesti UV šviesos diodų juosta, todėl suprogramavau galimybę įsijungti CCFL arba UV apšvietimą:&lt;/p&gt;
&lt;p&gt;Mygtuku, prijungtu prie INT0 (PD2), yra aktyvuojamas rankinis laiko nustatymo režimas. Aktyvavus šį režimą, mygtukas &amp;quot;INT1&amp;quot; didina pasirinktą skaičių, o mygtukas &amp;quot;INT0&amp;quot; - šoliuoja per skaitmenis.&amp;nbsp; Pasirinktas skaitmuo yra indikuojamas brūkšneliu po skaitmeniu. Perėjus per visus skaitmenis, nustatytas laikas yra išsaugomas. Žinoma, yra suprogramuota papildoma apsauga nuo durniaus, neleidžianti išsaugoti nerealaus laiko (&amp;gt;23:59), bei išeinanti iš rankinio laiko nustatymo režimo, jei jis užtrunka per ilgai (kažkas pradėjo nustatinėti laikrodį ir pamiršo). Pastaroji apsauga yra realizuota&amp;nbsp; pertrauktimi &lt;strong&gt;TIMER1_COMPA_vect&lt;/strong&gt;, kuri nuolat tikrina ar nebuvo viršytas nustatytas laiko intervalas. Intervalas yra &amp;quot;įhardkodintas&amp;quot; parametre &lt;em&gt;set_time_timeout&lt;/em&gt;. Parametro reikšmė - maksimalus laiko tarpas sekundėmis tarp atliktų veiksmų. Viršijus šį laiką (nespėjus išsaugoti naujo nustatyto laiko), nustatymai yra anuliuojami ir yra gražinamas senas laikas. Pats rankinis nustatymas atrodo taip:&lt;/p&gt;
&lt;p&gt;Laiką ir datą galima nustatyti ir per &lt;strong&gt;USART&lt;/strong&gt; sąsają (9600 Boud, 8 bitų su 1 Stop bitu). USART sąsaja taip pat galima įjungti ir išjungti laikrodžio apšvietimą. USART meniu atrodo taip:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard01.jpg"&gt;&lt;img alt="Clipboard01" class="aligncenter size-full wp-image-677" src="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard01.jpg" style="width: 677px; height: 374px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;USART sąsaja yra pritaikyta žmogui. T. y. nustatant laiką ar datą valdiklis gražiai paprašo įvesti valandas, minutes ir sekundes (metus, mėnesį dieną), pasitikslina ar norime įvestus duomenis išsaugoti ir tik tada atlieka realius pakeitimus. Apšvietimas komutuojamas irgi panašiai, tik čia iš naudotojo gavus darbo režimo nustatymą jis yra vykdomas iš karta, nieko daugiau neklausiant.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard03.jpg"&gt;&lt;img alt="Clipboard03" class="aligncenter size-full wp-image-679" src="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard03.jpg" style="width: 677px; height: 374px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard05.jpg"&gt;&lt;img alt="Clipboard05" class="aligncenter size-full wp-image-680" src="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard05.jpg" style="width: 677px; height: 374px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard06.jpg"&gt;&lt;img alt="Clipboard06" class="aligncenter size-full wp-image-681" src="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard06.jpg" style="width: 677px; height: 374px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Įdomu tai, kad prijungus &lt;a class="reference external" href="http://paulius.bautrenas.lt/blog/?p=493"&gt;HC05 bluetooth moduliuką&lt;/a&gt;, visi nustatymai yra puikiausiai pasiekiami iš Android telefono, naudojant &amp;quot;BlueTerm&amp;quot; programėlę:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7023.jpg"&gt;&lt;img alt="IMG_7023" class="aligncenter size-large wp-image-675" src="https://paulius.bautrenas.lt/images/flip-dot-clock/IMG_7023-1024x768.jpg" style="width: 625px; height: 469px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Manau, daug kam kyla klausimas, kam iš vis tas valdymas per USART, jeigu yra valdymo mygtukai? Atsakymas yra dvigubas: pirmiausia, USART sąsają kūriau dėl sportinio intereso ir dėl galimybės &lt;strong&gt;automatiškai atnaujinti/sinchronizuoti laiką&lt;/strong&gt;. Taip taip, mano laikrodį galima sinchronizuoti su PC laikrodžiu per USART. Tam pasiskolinau&amp;nbsp;&lt;a class="reference external" href="http://noahcoad.com/"&gt;Noah Coad&lt;/a&gt; programos &amp;quot;&lt;a class="reference external" href="http://blogs.msmvps.com/coad/2005/03/23/serialport-rs-232-serial-com-port-in-c-net/"&gt;SerialPort Terminal&lt;/a&gt;&amp;quot; kodą ir jį šiek tiek patobulinau pagal savo poreikius.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard08.jpg"&gt;&lt;img alt="Clipboard08" class="aligncenter size-full wp-image-683" src="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard08.jpg" style="width: 629px; height: 576px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Programoje pridėjau 3 mygtukus. Mygtukas &amp;quot;About&amp;quot; gražina laikrodžio techninę informaciją, o mygtukai &amp;quot;SyncTime&amp;quot; ir &amp;quot;SyncDate&amp;quot; atitinkamai sinchronizuoja flip-dot laikrodžio RTC su kompiuterio laikrodžiu (dėl lėto USART galima kelių sekundžių paklaida):&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard12.jpg"&gt;&lt;img alt="Clipboard12" class="aligncenter size-full wp-image-684" src="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard12.jpg" style="width: 629px; height: 546px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard13.jpg"&gt;&lt;img alt="Clipboard13" class="aligncenter size-full wp-image-685" src="https://paulius.bautrenas.lt/images/flip-dot-clock/Clipboard13.jpg" style="width: 629px; height: 546px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="naudingos-nuorodos"&gt;
&lt;h2&gt;Naudingos nuorodos&lt;/h2&gt;
&lt;p&gt;Valdiklio schemą, PCB ir programinį kodą rasite mano &lt;a class="reference external" href="https://github.com/pauliusbau/electronics-farm/tree/master/Flip-Dot%20Clock"&gt;GitHub'e&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Projekto aprašymą anglų kalba rasite &lt;a class="reference external" href="https://hackaday.io/project/168888-flip-dot-clock"&gt;Hackaday.io&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</content><category term="Elektronika"></category><category term="atmega16"></category><category term="ccfl"></category><category term="clock"></category><category term="ds1307"></category><category term="flip-dot"></category><category term="flipdot"></category><category term="font"></category><category term="mosfet"></category><category term="uart"></category><category term="UV LED"></category></entry><entry><title>Elektromechaninės švieslentės (flip-dot display)</title><link href="https://paulius.bautrenas.lt/elektromechanines-svieslentes.html" rel="alternate"></link><published>2014-12-30T09:45:00+02:00</published><updated>2014-12-30T09:45:00+02:00</updated><author><name>pauliusbau</name></author><id>tag:paulius.bautrenas.lt,2014-12-30:/elektromechanines-svieslentes.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/flipdot_1.jpg"&gt;&lt;img alt="flipdot_1" class="aligncenter size-medium wp-image-610" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/flipdot_1.jpg" style="width: 624px; height: 468px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nors tai tikrai sena technologija, tačiau elektromechaninės (angl. flip-dot) švieslentės yra vis dar plačiai paplitusios. Jos naudojamos ten, kur reikia didelio informacijos perskaitomumo ir didelio apžvalgos kampo. Elektromechaninės švieslentės dažniausiai yra naudojamos traukinių ir autobusų stotyse, lauko stadionuose, oro uostuose ir viešajame transporte. Prieš porą metų, kelios tokios švieslentės pakliuvo …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/flipdot_1.jpg"&gt;&lt;img alt="flipdot_1" class="aligncenter size-medium wp-image-610" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/flipdot_1.jpg" style="width: 624px; height: 468px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nors tai tikrai sena technologija, tačiau elektromechaninės (angl. flip-dot) švieslentės yra vis dar plačiai paplitusios. Jos naudojamos ten, kur reikia didelio informacijos perskaitomumo ir didelio apžvalgos kampo. Elektromechaninės švieslentės dažniausiai yra naudojamos traukinių ir autobusų stotyse, lauko stadionuose, oro uostuose ir viešajame transporte. Prieš porą metų, kelios tokios švieslentės pakliuvo man į rankas. Kadangi norėjau švieslentes panaudoti savo tikslams, nusprendžiau jas šiek tiek plačiau patyrinėti. Ypač domino jų valdymas ir &amp;quot;vangių&amp;quot; segmentų atsiradimo priežastys.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/flipdot_2.jpg"&gt;&lt;img alt="flipdot_2" class="aligncenter size-large wp-image-580" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/flipdot_2.jpg" style="width: 625px; height: 168px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Viršuje pateikta kompanijos „LAWO Luminator Technology Group“ informacinės sistemos „Full-matrix System“ elektromechaninių švieslenčių, naudojamų Vilniaus miesto autobusuose, nuotrauka. „Full-matrix System“ švieslentės yra elektromechaninės. Kiekviena švieslentė turi papildomą liuminescencinį apšvietimą, naudojamą tamsiu paros metu. Kiekviena švieslentė yra sudaryta iš aibės individualių 10 – 15 mm skersmens aštuonkampių skydelių, kurių viena pusė yra nudažyta juodai, kita – geltonai.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/PICT0076.jpg"&gt;&lt;img alt="image1" class="aligncenter size-large wp-image-582" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/PICT0076-1024x768.jpg" style="width: 625px; height: 468px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kiekvieną skydelį valdo elektromagnetas, sudarytas iš U formos magnetolaidžio bei dviejų ričių. Elektromagnetas, priklausomai nuo valdymo signalo, atverčia arba geltonąją arba juodąją skydelio pusę. Išjungus valdymo signalą, dėl liekamojo elektromagneto magnetolaidžio įmagnetėjimo skydelis pasilieka fiksuotoje padėtyje.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/PICT0067.jpg"&gt;&lt;img alt="image2" class="aligncenter size-large wp-image-581" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/PICT0067-1024x768.jpg" style="width: 625px; height: 468px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tokiu būdu yra užtikrinamas vaizduojamo teksto įskaitomumas bei beveik 180º matymo kampas. Detalus švieslentės skydelių vartymo mechanizmų veikimas ir gamybos metodas yra aprašytas patente „&lt;a class="reference external" href="http://www.freepatentsonline.com/20030041492.pdf"&gt;US 2003/0041492 A1 Small dot display element&lt;/a&gt;“. Šaltinyje yra nurodyta, kad skydeliai ramybės būsenoje yra šiek tiek pasvirę. Pagal patentą, tai yra padaryta tam, kad būtų sumažintas sukimo monetas, reikalingas skydelio pervertimui. Iš principo, kuo mažesnis skydelio posvyrio kampas, tuo didesniu apžvalgos kampu skydelis yra matomas, tačiau tuo pačiu reikia sukurti stipresnį magnetinį lauką skydelio pervertimui.&lt;/p&gt;
&lt;p&gt;Švieslentės yra maitinamos nuolatine 24V ± 20% įtampa. Dėl konstrukcijos ypatybių lentos naudoja labai mažai elektros srovės: 360 – 560 mA skydelių pervertimo metu ir tik 60 – 200 mA „ramybės“ būsenoje. Lentų konstrukcija taip pat lemia ir tai, kad atvaizduojamas tekstas išlieka net ir išjungus maitinimą. Tiesa, elektromechaninė konstrukciją turi ir trūkumų: švieslentės skydeliai ilgainiui tampa „vangūs“, apsiverčia per lėtai arba neatsiverčia iš viso. Švieslentės yra jautrios mechaninėms šiukšlėms ir dulkėms. Be to, „pasyvūs“ švieslentės taškai reikalauja papildomo apšvietimo, kuris yra gana reiklus elektros srovei (0,5 – 5,5 A).&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/268118_10150228228661035_4800258_n.jpg"&gt;&lt;img alt="268118_10150228228661035_4800258_n" class="aligncenter wp-image-609 size-full" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/268118_10150228228661035_4800258_n-e1419866057695.jpg" style="width: 719px; height: 331px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Vilniaus autobusuose taip pat yra naudojama kompanijos „Krueger Apparatebau GmbH &amp;amp; Co.“ gaminama informacinė sistema. Šios kompanijos švieslenčių Vilniaus autobusuose yra įrengta nedaug, tačiau „Krueger“ sistema iš kitų sistemų išsiskiria savo mechanine konstrukcija. Ankščiau aprašytose švieslentėse skydelių vartymo mechanizmas pagal atitinkamą valdymo signalą perverčia visą skydelį (&lt;cite&gt;nuotrauka &amp;lt;{static}/images/elektromechanines-svieslentes/PICT0076.jpg&amp;gt;&lt;/cite&gt;), tačiau „Kruger“ sistemoje yra verčiama tik viena skydelio „pusė“. T. y. „Krueger“ švieslentės tašką sudaro judanti skydelio dalis bei nejudanti, pusiau juodai ir geltonai nudažyta, plokštelė. Vartymo mechanizmą paveikus atitinkamu valdymo signalu, vartomoji skydelio dalis yra atverčiama geltonąja puse, kuri uždengia juodąją nejudančios plokštelės pusę, arba juodąja, kuri uždengia geltonąją stacionarios plokštelės pusę.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/PICT0096.jpg"&gt;&lt;img alt="image3" class="aligncenter size-large wp-image-585" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/PICT0096-1024x768.jpg" style="width: 625px; height: 468px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Lyginant horizontaliai ir vertikaliai vartomų švieslenčių segmentus, kvadratinės konstrukcijos segmento matomas plotas yra bent 16 % didesnis jei apskrito, horizontaliai vartomo skydelio. Tokia skydelių konstrukcija užtikrina geresnį informacijos perskaitomumą ir didesnį švieslentės vaizduojamos informacijos atnaujinimo greitį. Taip pat vertikalios konstrukcijos segmentų elektromagneto konstrukcija yra daug paprastesnė: „Krueger“ sistemoje yra naudojamas įprastos konstrukcijos solenoidas su cilindrine feromagnetine šerdimi. Tokia konstrukcija yra ne tik paprastesnė, bet ir pigesnė, jos gamybai nėra keliami tokie griežti reikalavimai kaip U formos (naudojami „LAWO“ sistemoje) vartymo mechanizmams.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/PICT0110.jpg"&gt;&lt;img alt="image4" class="aligncenter size-large wp-image-586" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/PICT0110-1024x768.jpg" style="width: 625px; height: 468px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="vangiu-skydeliu-nustatymas-ir-atsiradimo-priezastys"&gt;
&lt;h2&gt;&lt;strong&gt;&amp;quot;Vangių&amp;quot; skydelių nustatymas ir atsiradimo priežastys&lt;/strong&gt;&lt;/h2&gt;
&lt;div class="vimeo" align="left"&gt;&lt;iframe width="420" height="315" src="https://player.vimeo.com/video/38010951" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;Kaip jau minėjau tekste, kartais kai kurie švieslentės skydeliai pasidaro &amp;quot;vangūs&amp;quot;, apsiverčia per lėtai arba neatsiverčia iš viso. Tai puikiai iliustruoja šis aukščiau patalpintas video (atsiprašau už kokybę). Video filmuke valdiklis paeiliui perverčia kiekvieną matricos skydelį į geltonąją pusę, po to - į juodąją. Manau tikrai turėtumėte pastebėti skydelius, kurie veikia kitaip nei visi. T. y. persiverčia atvirkščiai negu visi, persivertę nelieka nustatytoje padėtyje ir t. t. Vat tokių skydelių atsiradimo priežastį ir nusprendžiau patyrinėti šiek tiek giliau.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/lenta.jpg"&gt;&lt;img alt="lenta" class="aligncenter size-large wp-image-590" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/lenta-1024x682.jpg" style="width: 625px; height: 416px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tyrimui buvo pasirinkta „Full-matrix System“ informacinėje sistemoje naudojama šono skaitinė švieslentė, sudaryta iš 448 skydelių su vartymo mechanizmais (elektromagnetais). Vartymo mechanizmai yra elektriškai sujungti į matricą, sudarytą iš 16 eilučių ir 28 stulpelių. Šono skaitinėje lentoje yra sumontuoti 3 vartymo mechanizmų valdikliai FP2800A.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/lenta_2.jpg"&gt;&lt;img alt="lenta_2" class="aligncenter size-large wp-image-591" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/lenta_2-1024x497.jpg" style="width: 625px; height: 303px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;FP2800A – tai „iš 5 į 28“ tipo dešifratorius, atpažįstantis kodinę signalų jo įėjimuose kombinaciją ir sukuriantis signalą viename tą kodinę kombinaciją atitinkančiame išėjime [R. Kirvaitis. Loginės schemos]. Pagrindinė FP2800A ypatybė yra ta, kad dešifratoriaus išėjimai dirba „šaltinio imtuvo“ režimais&amp;nbsp; (nuotrauka apačioje), t.&amp;nbsp; y. dešifratorius pagal valdymo komandą gali tam tikrą išėjimą prijungti arba prie maitinimo šaltinio teigiamo poliaus arba prie neigiamo. Tai yra ypač svarbu elektromechaninių švieslenčių valdymui, nes elektros srovė per vartymo mechanizmo rites turi tekėti abejomis kryptimis.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/source-sink.jpg"&gt;&lt;img alt="source-sink" class="aligncenter size-full wp-image-593" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/source-sink.jpg" style="width: 877px; height: 219px;" /&gt;&lt;/a&gt;
Kaip jau buvo minėta, švieslentės 16 x 24 skydelių matricą valdo 3 vartymo mechanizmų valdikliai FP2800A. Vienas iš jų yra skirtas matricos stulpelių valdymui (funkcinė schema virsuje), kiti du – eilučių valdymui. Kiekvienas iš šių valdiklių yra valdomas 7 linijų duomenų perdavimo magistrale, kuri pagrindiniame valdiklyje dažnai būna multipleksuojama. Mikrovaldiklis tinkamais laiko momentais privalo kiekvienam iš valdiklių nurodyti konkretų komutuojamo išėjimo adresą (5 adreso linijos) ir komutuojamo išėjimo poliariškumą (Data signalas). Be to, mikrovaldiklis turi generuoti Enable signalą, inicijuojantį adreso linijos dešifraciją, bei dekoduoto valdiklio išėjimo prijungimą arba prie maitinimo šaltinio teigiamo poliaus, arba prie neigiamo.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/rc.jpg"&gt;&lt;img alt="rc" class="aligncenter wp-image-592" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/rc.jpg" style="width: 251px; height: 143px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/pinout.png"&gt;&lt;img alt="pinout" class="aligncenter size-medium wp-image-621" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/pinout-279x300.png" style="width: 279px; height: 300px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Valdikliai FP2800A gali komutuoti iki 370 mA srovę, todėl, norint apsaugoti skydelių vartymo mechanizmus bei pačius valdiklius, yra būtina riboti valdiklio išėjimų komutavimo intervalus. Tam gamintojas siūlo nesudėtingą schemą (nuotrauka viršuje), sudarytą iš kondensatoriaus C1 ir rezistoriaus R1. Gamintojo rekomenduotinos elementų parametrų vertės yra C1=0,22 μF ir R=22 kΩ , garantuojančios maksimalią 24 ms Enable signalo veikimo trukmę. Kadangi elektros srovė turi tekėti abejomis kryptimis per skydelių vartymo mechanizmų elektromagnetų rites, yra naudojami 2 atskiri lygiagrečiai sujungti valdikliai. Valdiklių apsaugai jų išėjimai yra atskirti diodais D1 ir D2 (nuotrauka viršuje, dešinėje).&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/timing.jpg"&gt;&lt;img alt="timing" class="aligncenter size-full wp-image-594" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/timing.jpg" style="width: 908px; height: 380px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/apsauga.jpg"&gt;&lt;img alt="apsauga" class="aligncenter size-full wp-image-588" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/apsauga.jpg" style="width: 541px; height: 236px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Norint detaliau ištirti švieslentės veikimą bei gauti norimas dinamines charakteristikas buvo nuspręsta sukurti eksperimentinį švieslentės valdiklį, kuris leistų valdyti švieslentės taškus pagal tiesiogines komandas, siunčiamas iš asmeninio kompiuterio. Vienas svarbiausių dalykų, kuriant eksperimentinį valdiklį, buvo sužinoti, kaip švieslentės taškai yra prijungti prie 3 vartymo mechanizmų valdiklių FP2800A. Tai buvo nustatyta rankiniu būdu, analizuojant švieslentės spausdintinę plokštę.&amp;nbsp; Dešifratorių FP2800A ir flip-dot matricos jungimai yra pateikti lentelėje apačioje. Lentelėje panaudota eilučių ir stulpelių numeracija yra pažymėta pirmoje poskyrio nuotraukoje.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/desifratoriaus_jungimas.jpg"&gt;&lt;img alt="desifratoriaus_jungimas" class="aligncenter size-large wp-image-589" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/desifratoriaus_jungimas-1024x288.jpg" style="width: 625px; height: 175px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Eksperimentiniame švieslentės valdiklyje buvo panaudotas mikrovaldiklis AtMEGA16, tiesiogiai, per lankstų 26 gyslų kabelį su IDC jungtimi, siunčiantis valdymo ir adreso signalų kombinacijas dešifratoriams FP2800A. Valdiklyje periferinių įrenginių ir asmeninio kompiuterio prijungimui buvo įprojektuotos USART ir I2C sąsajos. Taip pat numatyti keli papildomi mygtukai ir šviesos diodai, naudojami valdiklio veiksmų kontrolei ir indikacijai, bei IBIS duomenų perdavimo sąsaja, naudotina komunikacijai su įvairiais autobusuose naudojamų informacinių sistemų įrenginiais.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/flip-dot_controller.jpg"&gt;&lt;img alt="flip-dot_controller" class="aligncenter size-full wp-image-596" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/flip-dot_controller.jpg" style="width: 848px; height: 576px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Daugiau informacijos apie valdiklį rasite mano &lt;a class="reference external" href="https://github.com/pauliusbau/electronics-farm/tree/master/Flip-Dot%20Clock"&gt;GitHub'e&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Srovės matavimui buvo parinktas 1 Ω 17 W šunto rezistorius. Didelės vardinės galios rezistorius buvo parinktas tam, kad būtų galima išvengti šiluminių galios nuostolių dėl kurių šuntas fiziškai šyla. Dėl to keičiasi jo elektriniai parametrai, t. y. varža, kas darbo metu sukelia srovės matavimo paklaidas. Rezistoriaus vardinė 1 Ω varža leido tiksliai ir be papildomų matematinių veiksmų nustatyti, kokia srovė teką švieslentės grandine. Įtampos krytis šunto varžoje buvo matuojamas skaitmeniniu oscilografu Rigol DS1052E.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131656895.jpg"&gt;&lt;img alt="134131656895" class="aligncenter size-full wp-image-599" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131656895.jpg" style="width: 780px; height: 309px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tyrimo metu, eksperimentiniam valdikliui buvo sudaryta programa, paeiliui perverčianti visus 28-o stulpelio skydelius pirma į geltonąją pusę, po to – į juodąją. Bandymo buvo gauta srovės oscilograma, pateikta viršuje, kairėje.&amp;nbsp; Iš jos matome, kad verčiant skydelius į geltonąją pusę (1 impulsų serija), srovė tekanti per skydelių elektromagnetų rites yra maždaug 100 mA mažesnė nei verčiant skydelius į juodąją pusę (2 impulsų serija). Tai galima paaiškinti tuo, kad skydelio vartymo mechanizmo elektromagneto magnetolaidis yra nesimetriškas. Vienas magnetolaidžio strypelis yra šiek tiek ilgesnis nei kitas. Dėl to, skydelio posvyrio kampas abiejose stacionariose padėtyse skiriasi. Pasak &lt;a class="reference external" href="http://www.freepatentsonline.com/20030041492.pdf"&gt;patento&lt;/a&gt;, kuo yra mažesnis skydelio posvyrio kampas, tuo reikia sukurti stipresnį magnetinį lauką skydelio pervertimui.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131672916.jpg"&gt;&lt;img alt="134131672916" class="aligncenter size-full wp-image-602" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131672916.jpg" style="width: 775px; height: 503px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Galima pastebėti, kad verčiant 28-ojo stulpelio pirmąjį skydelį, per elektromagnetą tekanti srovė yra mažesnė (pažymėta raudona rodykle) nei verčiant kitus to paties stulpelio segmentus. Ši tendencija kartojasi ir individualiai vartant tik šį segmentą. Iš oscilogramos (28;1) matome, kad srovė tekanti per segmento (28;1) elektromagneto ritę yra vienoda verčiant skydelį ir į vieną pusę, ir į kitą. Taip būti neturėtų, nes korektiškai veikiančių segmentų vertimo srovės skiriasi. Apačioje yra pateikta segmento (3;4) oscilograma, patvirtinanti prieš tai suformuotą teiginį.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131656919.jpg"&gt;&lt;img alt="134131656919" class="aligncenter size-full wp-image-600" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131656919.jpg" style="width: 788px; height: 315px;" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131656944.jpg"&gt;&lt;img alt="134131656944" class="aligncenter size-full wp-image-601" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131656944.jpg" style="width: 404px; height: 309px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Paveiksle, pateiktame viršuje, dešinėje, yra atvaizduota srovės, tekančios per segmento su išimtu feromagnetiniu skydeliu vartymo mechanizmo elektromagnetą, oscilograma. Iš tiesų (28;1) ir (1;3) segmentų oscilogramos yra labai panašios, tik šiek tiek skiriasi amplitudinės vertės, todėl galima teigti, kad&amp;nbsp; segmento (28;1) skydelis yra sugadintas. Iš tikro, tai matosi net plika akimi. Skydelis yra vangus, persiverčia daug lėčiau nei visi kiti. Taip pat jis tvirtai nesilaiko stacionarioje pozicijoje, ir persiverčia, verčiant kaimyninius skydelius, pav. (27;1) ar (28;2).&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external image-reference" href="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131656861.jpg"&gt;&lt;img alt="134131656861" class="aligncenter size-full wp-image-598" src="https://paulius.bautrenas.lt/images/elektromechanines-svieslentes/134131656861.jpg" style="width: 774px; height: 237px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Su specialia magnetinius polius parodančia &lt;a class="reference external" href="http://www.directindustry.com/prod/magnet-physik/magnetic-field-sensors-11843-778655.html"&gt;kortele&lt;/a&gt; buvo nustatyta, kad segmento (28;1) skydelis yra nekorektiškai permagnetintas. Paveiksle viršuje yra pateiktas gerai įmagnetinto skydelio (segmentas (3;4)) brėžinys, šalia – neteisingai permagnetinto. Iš paveikslų matome, kad gerai veikiantis skydelis yra įmagnetintas horizontalia kryptimi, o vangus skydelis – vertikalia.&lt;/p&gt;
&lt;/div&gt;
</content><category term="Elektronika"></category><category term="atmega16"></category><category term="flip-disk"></category><category term="flip-dot"></category><category term="flipdot"></category><category term="FP2800A"></category><category term="Kreuger"></category><category term="Lawo"></category><category term="oscilograma"></category></entry></feed>